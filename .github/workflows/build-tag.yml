name: Build TAG (from main branch)

on:
  release:
    types:
      - created

jobs:
  call-build-tag:
    environment: development
    uses: ${{ github.repository_owner }}/reusable-workflows/.github/workflows/build-tag.yml@main
    # To pass named inputs to a called workflow, use the "with" keyword in a job.
    with:
      test_input: testinput
    # Use the "secrets" keyword to pass named secrets.
    secrets:
      ARTIFACTORY_USERNAME: ${{ secrets.ARTIFACTORY_USERNAME }}
      ARTIFACTORY_TOKEN: ${{ secrets.ARTIFACTORY_TOKEN }}
      QUAY_USERNAME: ${{ secrets.QUAY_OWN_USERNAME }}
      QUAY_PASSWORD: ${{ secrets.QUAY_OWN_PASSWORD }}
    # Workflows that call reusable workflows in the same organization or enterprise
    #  can use the "inherit" keyword to implicitly pass the secrets.
      # secrets: inherit